@model List<ResultBlogDto>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h3>Bloglar</h3>

@{
    int count = 0;
}

@if (Model != null && Model.Any())
{
    <table class="table table-bordered table-hover">
        <tr>
            <th>#</th>
            <th>Blog Başlığı</th>
            <th>Açıklama</th>
            <th>Kategori</th>
            <th>İşlemler</th>
        </tr>

        @foreach (var item in Model)
        {
            count++;
            <tr>
                <th>@count</th>
                <td>
                    @if (!string.IsNullOrEmpty(item.CoverImage))
                    {
                        <img src="@item.CoverImage" style="height:75px;width:75px" />
                    }
                @item.Title
            </td>
            <td>
                @(string.IsNullOrEmpty(item.Description) ? "-" :
                            (item.Description.Length > 100 ? item.Description.Substring(0, 100) + "..." : item.Description))
        </td>
        <td>@(item.Category?.CategoryName ?? "-")</td>
        <td>
            <a href="/Admin/Blog/DeleteBlog/@item.Id" onclick="return confirm('Bu öğeyi kalıcı olarak silmek istediğinizden emin misiniz?')" class="btn btn-danger">Sil</a>
            <a href="/Admin/Blog/UpdateBlog/@item.Id" class="btn btn-info">Güncelle</a>
        </td>
    </tr>
        }
    </table>
}
else
{
    <div class="alert alert-info">
        Henüz blog bulunmamaktadır.
    </div>
}

<a href="/Admin/Blog/CreateBlog" class="btn btn-primary">Yeni Blog Oluştur</a>
